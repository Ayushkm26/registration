<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    
    <form id="form1">
        <h1 id="h1">Online Registration Form</h1>
        <div class="name-container">
            <div class="name-field">
                <label for="fname">First name:</label>
                <input type="text" id="fname" name="fname" required>
            </div>
            <div class="name-field">
                <label for="lname">Last name:</label>
                <input type="text" id="lname" name="lname" required>
            </div>
        </div>
        
        <div class="age-blood-container">
            <div class="age-field">
                <label for="age">Age:</label>
                <input type="number" id="age1" name="age" required>
            </div>
            <div class="blood-field">
                <label for="bloodgroup">Choose a Blood Group:</label>
                <select name="bloodgroup" id="bloodgroup" required>
                    <option value="A+">A+</option>
                    <option value="B+">B+</option>
                    <option value="A-">A-</option>
                    <option value="B-">B-</option>
                    <option value="O+">O+</option>    
                    <option value="O-">O-</option>
                    <option value="AB+">AB+</option>
                    <option value="AB-">AB-</option>
                </select>
            </div>
        </div>
        
        <div class="contact-container">
            <div class="contact-field">
                <label for="email">Email:</label>
                <input type="email" id="email" name="email" required>
            </div>
            <div class="contact-field">
                <label for="phone">Phone number:</label>
                <input type="number" id="phone" name="phone" required>
            </div>
        </div>
        
        <h3>Address Details</h3>
        <label for="sublocality">Sublocality:</label>
        <input type="text" id="Sublocality" name="sublocality" required>
        
        <label for="district">District:</label>
        <input type="text" id="district" name="District" required>
        
        <label for="state">State:</label>
        <input type="text" id="state" name="State" required>
        
        <label for="country">Country:</label>
        <input type="text" id="country" name="country" required>
        
        <button type="submit" onclick="getdata()">Submit</button> 
    </form> 
</body>
<script>
function getdata() {
    const fname = form1.fname.value;
    const lname = form1.lname.value;
    const age = form1.age1.value;
    const email = form1.email.value;
    const phone = form1.phone.value;
    const bloodgroup = form1.bloodgroup.value;
    const sublocality = form1.sublocality.value;
    const district = form1.district.value;
    const state = form1.state.value;
    const country = form1.country.value;

    const user1 = {
        "fname": fname,
        "lname": lname,
        "age": age,
        "email": email,
        "phone": phone,
        "bloodgroup": bloodgroup,
        "sublocality": sublocality,
        "district": district,
        "state": state,
        "country": country
    };

    console.log(user1);
    fetch("http://localhost:3000/form", {
        headers: {
            'Accept': 'application/json',
            'Content-Type': 'application/json'
        },
        method: "POST",
        body: JSON.stringify(user1)
    })
    .then(function(res) { alert("DATA SENT"); })
    .catch(function(res) { alert("Wrong input"); });

   localStorage.setItem("user", JSON.stringify(user1));
}
</script>
</html>